(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[627],{3167:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return q}});var d=c(603),e=c(5893);c(7294);var f=c(1831),g=c(5675),h=c.n(g),i=c(1664),j=c.n(i),k=c(7708),l=c.n(k),m=c(6549),n=c.n(m),o=c(3349),p=c(3158);function q(){var a=(0,d.Z)((0,o.F_)(p.I8),3),b=a[0];return a[1],a[2],(0,e.jsxs)("main",{className:l().container,children:[(0,e.jsx)(f.default,{}),(0,e.jsx)(j(),{href:"http://localhost:3000/admin/dashboard",children:(0,e.jsx)("a",{children:"ADMIN"})}),b?(0,e.jsx)("div",{children:(0,e.jsx)(h(),{src:b.photoURL,className:n().profilePhotoIcon,alt:"User Photo",width:"50px",height:"50px"},"yeah")}):(0,e.jsx)("h1",{children:"SIGN IN BRO"})]})}},8750:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return C}});var d,e=c(5893),f=c(7294);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=f.useLayoutEffect,i=function(a){var b=f.useRef(a);return h(function(){b.current=a}),b},j=function(a,b){if("function"==typeof a){a(b);return}a.current=b},k=function(a,b){var c=(0,f.useRef)();return(0,f.useCallback)(function(d){a.current=d,c.current&&j(c.current,null),c.current=b,b&&j(b,d)},[b])},l={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},m=function(a){Object.keys(l).forEach(function(b){a.style.setProperty(b,l[b],"important")})},n=null,o=function(a,b){var c=a.scrollHeight;return"border-box"===b.sizingStyle.boxSizing?c+b.borderSize:c-b.paddingSize},p=function(){},q=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],r=!!document.documentElement.currentStyle,s=function(a){var b=window.getComputedStyle(a);if(null===b)return null;var c,d,e=(c=q,d=b,c.reduce(function(a,b){return a[b]=d[b],a},{})),f=e.boxSizing;if(""===f)return null;r&&"border-box"===f&&(e.width=parseFloat(e.width)+parseFloat(e.borderRightWidth)+parseFloat(e.borderLeftWidth)+parseFloat(e.paddingRight)+parseFloat(e.paddingLeft)+"px");var g=parseFloat(e.paddingBottom)+parseFloat(e.paddingTop),h=parseFloat(e.borderBottomWidth)+parseFloat(e.borderTopWidth);return{sizingStyle:e,paddingSize:g,borderSize:h}},t=function(a){var b=i(a);(0,f.useLayoutEffect)(function(){var a=function(a){b.current(a)};return window.addEventListener("resize",a),function(){window.removeEventListener("resize",a)}},[])},u=function(a,b){var c=a.cacheMeasurements,d=a.maxRows,e=a.minRows,h=a.onChange,i=void 0===h?p:h,j=a.onHeightChange,l=void 0===j?p:j,q=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)b.indexOf(c=f[d])>=0||(e[c]=a[c]);return e}(a,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),r=void 0!==q.value,u=(0,f.useRef)(null),v=k(u,b),w=(0,f.useRef)(0),x=(0,f.useRef)(),y=function(){var a,b,f,g,h,i,j,k,p,q,r,t,v=u.current,y=c&&x.current?x.current:s(v);if(y){x.current=y;var z=(a=y,b=v.value||v.placeholder||"x",f=e,void 0===f&&(f=1),void 0===(g=d)&&(g=1/0),n||((n=document.createElement("textarea")).setAttribute("tabindex","-1"),n.setAttribute("aria-hidden","true"),m(n)),null===n.parentNode&&document.body.appendChild(n),h=a.paddingSize,i=a.borderSize,j=a.sizingStyle,k=j.boxSizing,Object.keys(j).forEach(function(a){var b=a;n.style[b]=j[b]}),m(n),n.value=b,p=o(n,a),n.value="x",q=n.scrollHeight-h,r=q*f,"border-box"===k&&(r=r+h+i),p=Math.max(r,p),t=q*g,"border-box"===k&&(t=t+h+i),[p=Math.min(t,p),q]),A=z[0],B=z[1];w.current!==A&&(w.current=A,v.style.setProperty("height",A+"px","important"),l(A,{rowHeight:B}))}},z=function(a){r||y(),i(a)};return(0,f.useLayoutEffect)(y),t(y),(0,f.createElement)("textarea",g({},q,{onChange:z,ref:v}))},v=(0,f.forwardRef)(u),w=c(3673),x=c.n(w),y=c(3158),z=c(6257),A=c(1664),B=c.n(A);function C(a){var b=(0,f.useState)(!1),c=b[0],g=b[1],h=(0,f.useState)(!1),i=(h[0],h[1]),j=(0,f.useState)(),k=(j[0],j[1]),l=function(b,c,e){g(!0);var f=JSON.parse(JSON.stringify(a.artistData));f.songs[c].fileVersions[e].revisionNote=b,a.setArtistData(f);var h=(0,z.JU)(y.db,"artists",a.artistData.metadata.artistName);clearTimeout(d),d=setTimeout(function(){(0,z.r7)(h,f),g(!1)},500)},m=function(a){i(!0),k(a)},n=function(){navigator.clipboard.writeText("http://localhost:3000/"+a.artistData.metadata.artistName+"/"+a.songData.songMetadata.songName)};return a.songData&&(0,e.jsx)("main",{className:x().song,children:(0,e.jsxs)("details",{open:0==a.songIndex,children:[(0,e.jsx)("summary",{style:{cursor:"pointer"},children:a.songData.songMetadata.songName}),(0,e.jsx)(B(),{href:"http://localhost:3000/"+a.artistData.metadata.artistName+"/"+a.songData.songMetadata.songName,children:(0,e.jsx)("a",{style:{color:"blue"},children:"go to shareable version"})}),(0,e.jsxs)("button",{className:x().shareButton,onClick:function(){return n()},children:["copy share link",(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",width:"20",children:(0,e.jsx)("path",{d:"M5.25 17.188q-.521 0-.885-.365Q4 16.458 4 15.938V5.771h1v10.167q0 .083.083.166.084.084.167.084h8.208v1Zm2.417-2.417q-.521 0-.886-.365-.364-.364-.364-.885V4.167q0-.521.364-.886.365-.364.886-.364h7.395q.542 0 .907.364.364.365.364.886v9.354q0 .521-.364.885-.365.365-.907.365Zm0-1h7.395q.105 0 .188-.083.083-.084.083-.167V4.167q0-.105-.083-.177-.083-.073-.188-.073H7.667q-.084 0-.167.073-.083.072-.083.177v9.354q0 .083.083.167.083.083.167.083Zm-.25 0V3.917v9.854Z"})})]}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("h2",{children:["song name: ",a.songData.songMetadata.songName]}),(0,e.jsxs)("li",{children:["paid for: ",a.songData.songMetadata.paidFor?"yes":"no"]}),(0,e.jsxs)("li",{children:["date raw files received: ",a.songData.songMetadata.dateRawFilesReceived]}),(0,e.jsxs)("li",{children:["date released: ",a.songData.songMetadata.dateReleased]}),(0,e.jsxs)("li",{children:["backup location: ",a.songData.songMetadata.backupLocation]}),(0,e.jsxs)("li",{children:["date of most recent edit: ",a.songData.songMetadata.dateOfMostRecentEdit]}),a.songData.fileVersions.map(function(b,d){return(0,e.jsxs)("details",{className:"".concat(d>0&&x().oldFileVersion),style:{cursor:"pointer"},open:0==d,children:[(0,e.jsx)("summary",{children:b.fileVersionName}),(0,e.jsxs)("ul",{children:[(0,e.jsxs)("li",{children:["file version name: ",b.fileVersionName]}),(0,e.jsxs)("li",{children:["date added: ",b.dateAdded]}),(0,e.jsxs)("li",{children:["Job type: ",b.jobType]}),0==d?(0,e.jsx)(v,{defaultValue:b.revisionNote,onFocus:function(){return m(d)},className:"".concat(x().revisionTextArea," ").concat(c&&x().revisionTextAreaIsTyping),onChange:function(b){return l(b.target.value,a.songIndex,d)}}):(0,e.jsxs)("li",{children:["Revision note: ",b.revisionNote]})]})]},d)})]},a.songIndex)]})})}},211:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return g}});var d=c(5893);c(7294);var e=c(1664),f=c.n(e);function g(a){return(0,d.jsx)("main",{children:a.songData&&(0,d.jsxs)("div",{children:[(0,d.jsx)(f(),{href:"http://localhost:3000/"+a.artistData.metadata.artistName+"/"+a.songData.songMetadata.songName,children:(0,d.jsx)("a",{style:{color:"blue"},children:"show only"})}),(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{children:["song name: ",a.songData.songMetadata.songName]}),(0,d.jsxs)("li",{children:["date released: ",a.songData.songMetadata.dateReleased]}),(0,d.jsxs)("li",{children:["date of most recent edit: ",a.songData.songMetadata.dateOfMostRecentEdit]})]})]})})}},6627:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return w}});var d=c(7568),e=c(603),f=c(4051),g=c.n(f),h=c(5893),i=c(7294),j=c(1163),k=c(5675),l=c.n(k),m=c(1664),n=c.n(m),o=c(6549),p=c.n(o),q=c(3349),r=c(3158),s=c(6257),t=c(3167),u=c(8750),v=c(211);function w(a){var b=(0,e.Z)((0,q.F_)(r.I8),3),c=b[0];b[1],b[2];var f=(0,i.useState)(),k=f[0],m=f[1],o=(0,i.useState)(!1),w=(o[0],o[1]),x=(0,j.useRouter)().query,y=x.artist;x.song,x.ok,(0,i.useEffect)(function(){var a,b;y?(a=(0,d.Z)(g().mark(function a(){var b,d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=(0,s.IO)((0,s.hJ)(r.db,"artists"),(0,s.ar)("metadata.artistName","==",y[0])),a.next=3,(0,s.PL)(b);case 3:(d=a.sent).forEach(function(a){m(a.data()),c&&c.uid==a.data().metadata.uid&&y[0]==a.data().metadata.artistName&&(console.log("somebody is signed in and at a custom url"),w(!0))});case 5:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})():c&&(b=(0,d.Z)(g().mark(function a(){var b,d;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b=(0,s.IO)((0,s.hJ)(r.db,"artists"),(0,s.ar)("metadata.uid","==",c.uid)),a.next=3,(0,s.PL)(b);case 3:(d=a.sent).forEach(function(a){m(a.data())});case 5:case"end":return a.stop()}},a)})),function(){return b.apply(this,arguments)})()},[c,y]);var z=function(){console.log(k)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(t.default,{}),(0,h.jsxs)("main",{children:[(0,h.jsx)("button",{onClick:function(){return z()},children:"CHECK"}),k&&(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:p().profilePhotoIcon,children:(0,h.jsx)(l(),{src:k.metadata.profilePhoto,className:p().profilePhotoIcon,alt:"User Photo",width:"100%",height:"100%",style:{borderRadius:"50%"}},k.metadata.uid)}),(0,h.jsxs)("h1",{children:["artist name stylized: ",k.metadata.artistNameStylized]}),(0,h.jsxs)("section",{children:[(0,h.jsx)(n(),{href:"http://localhost:3000/"+k.metadata.artistName,children:(0,h.jsx)("a",{style:{color:"green"},children:" SHOW ALL SONGS "})}),c&&c.uid==k.metadata.uid?k.songs.map(function(a,b){return y&&y[1]?a.songMetadata.songName==y[1]?(0,h.jsx)(v.default,{songData:a,artistData:k,songIndex:b,dataFromUrl:y},b):void 0:(console.log("callin"),(0,h.jsx)(u.default,{songData:a,artistData:k,setArtistData:m,songIndex:b},b))}):k.songs.map(function(a,b){return y&&y[1]?a.songMetadata.songName==y[1]?(0,h.jsx)(v.default,{songData:a,artistData:k,songIndex:b,dataFromUrl:y},b):void 0:(0,h.jsx)(v.default,{songData:a,artistData:k,songIndex:b,dataFromUrl:y},b)})]})]})]})]})}},3673:function(a){a.exports={revisionTextArea:"Artist_revisionTextArea__Rt4Em",revisionTextAreaIsTyping:"Artist_revisionTextAreaIsTyping__1_kmn",oldFileVersion:"Artist_oldFileVersion__SUn9V",song:"Artist_song__lkM_t",shareButton:"Artist_shareButton__nQl3z"}},7708:function(a){a.exports={container:"AudioNav_container__kyYaV"}},6549:function(a){a.exports={profilePhotoIcon:"Default_profilePhotoIcon__Y7iJY",revisionTextArea:"Default_revisionTextArea__e_FaO"}},1163:function(a,b,c){a.exports=c(387)}}])